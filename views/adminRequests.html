    <div class="alert alert-success" id="a-request-new" style="position:fixed;bottom:0;right:0;display:none;">
        <button type="button" class="close" data-dismiss="alert">x</button>
        <strong>Поздравляем! </strong>
        Вы добавили новую заявку
    </div>

<div ng-controller="autoCtrl" class="partial-view wrapper-part" ng-init="formdetails = 'question'; $parent.formdetail = 'bamper'; mainproduct.autoid = autos[0];">
    <div class="container-fluid leave-request">
    <div class=" choose-work">
        <div class="row" style="display:none;">
            <div class="btn-group btn-group-justified condensted" role="group" aria-label="...">
              <div class="btn-group" role="group">
                <button type="button" class="btn btn-success" ng-click="viewItem(mainproduct, 1)"><i class="fa fa__text fa-tachometer"></i>Заявка на ТО</button>
              </div>
              <div class="btn-group" role="group">
                <button type="button" class="btn btn-warning" ng-click="viewItem(mainproduct, 2)"><i class="fa fa__text fa-wrench"></i>Заявка на Ремонт</button>
              </div>
              <div class="btn-group" role="group">
                <button type="button" class="btn btn-danger" ng-click="viewItem(mainproduct, 3)"><i class="fa fa__text fa-truck"></i>Кузовные работы</button>
              </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12"><h2>Укажите вид услуг</h2></div>
        </div>
        <div class="row">
            <div class="col-md-3"><div class="choose-work__wrap" ng-click="viewItem(mainproduct, 1)" ng-class="{'choose-work__active' : allitems == 1}"><div class="u1"></div>Заявка на техническое обслуживание</div></div>
            <div class="col-md-3"><div class="choose-work__wrap" ng-click="viewItem(mainproduct, 2)" ng-class="{'choose-work__active' : allitems == 2}"><div class="u2"></div>Заявка на ремонт автомобиля</div></div>
            <div class="col-md-3"><div class="choose-work__wrap" ng-click="viewItem(mainproduct, 3)" ng-class="{'choose-work__active' : allitems == 3}"><div class="u3"></div>Заявка на кузовные работы</div></div>
            <div class="col-md-3"><div class="choose-work__wrap" ng-click="viewItem(mainproduct, 4)" ng-class="{'choose-work__active' : allitems == 4}"><div class="u4"></div>Заявка на тюнинг автомобиля</div></div>
        </div>
        <div class="row">
            <p>Пожалуйста укажите 1 из 4 вариантов</p>
        </div>

    </div>
    <div class="information">
        <div class="robot" ></div>
        <p>Вы получаете предложения только от наших партнеров, предложение будет включать в себя стоимость и примерный срок проведедния ремонтных работ автомобиля или подробную информацию по проведению ТО.</p>
        <p>Мы внимательно следим за качеством оказываемых нашими партнерами услуг и отсеиваем неконкурентноспособные компании ещё до их появления в проекте CarsBir.</p>
    </div>
    <div id="loader-wrapper" ng-if="loading">
        <div id="loader"></div>
    </div>
    <div id="request1"  ng-if="allitems == 1">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h2 class="panel-title"><i class="big-car"></i>Автомобиль</h2>
          </div>
          <div class="panel-body">
                <form name="autoForm1" novalidate>
                    <div class="form-group" ng-class="{'has-error':(validation.auto && autoForm1.auto.$error.required)}">
                        <label>Выберите автомобиль</label>
                        <select class="form-control" name="auto" ng-model="mainproduct.autoid" ng-options="auto.mark for auto in autos" required></select>
                        <div ng-show="validation.auto">
                            <span class="help-block" ng-show="autoForm1.auto.$error.required">Вначале добавьте автомобиль</span>
                        </div>
                    </div>
                    <div class="form-group" ng-class="{'has-error':(autoForm1.phone.$invalid && validation.phone)}" ng-hide="user.phone">
                        <label>Телефон</label>
                        <input name="phone" class="form-control" ng-minlength="11" ng-pattern="/^[0-9]{11}$/"
                               ng-model="user.phone" ng-blur="validation.phone = true" required />
                        <div ng-show="validation.phone">
                            <span class="help-block" ng-show="autoForm1.phone.$error.required || autoForm1.phone.$error.minlength">Введите телефон</span>
                            <span class="help-block" ng-show="autoForm1.phone.$error.pattern && !autoForm1.phone.$error.required && !autoForm1.phone.$error.minlength">Телефон длинной 11 символов и состоит из цифр</span>
                        </div>
                    </div>
                </form>
            <div class="text-right create-auto" ng-click="setScreen(1);">
                <button class="btn btn-sm btn-primary ">
                    <i class="fa fa-plus"></i> 
                </button>
                Добавить автомобиль
            </div>
          </div>
        </div>
        <div class="panel panel-info">
          <div class="panel-heading">
            <h2 class="panel-title"><i class="kuzov-work"></i>Заявка на ТО</h2>
          </div>
          <div class="panel-body">
                <form name="workForm" novalidate>
                    <div class="form-group row">
                        <ul class="checkbox-grid">
                        <li>             
                            <label><input type="checkbox" ng-model="mainproduct.details.ownparts" />
                            Свои запчасти</label>
                        </li>
                        <li>
                            <label><input type="checkbox" ng-model="mainproduct.details.onguaranty" />
                            Автомобиль на гарантии</label>
                        </li>
                        </ul>
                    </div>
                    <div class="form-group row">
                        <ul class="checkbox-grid">
                            <li ng-repeat="item in texts.work">
                                <label><input type="checkbox" ng-model="mainproduct.details.work[$index]" />
                                {{item}}</label>
                            </li>
                        </ul>
                    </div>
                    <div class="form-group comment-area"><label>Комментарий:</label><textarea class="form-control" ng-model="mainproduct.details.comment" placeholder="Расскажите подробнее о том, что у вас случилось" rows="5"> </textarea></div>
                    <div class="text-center" ng-class="{'has-error':((validation.auto && autoForm1.auto.$error.required)||(validation.phone && autoForm1.phone.$error.required))}">
                        <button type="submit" ng-click="addRequest(mainproduct); validation.auto = true; validation.phone = true;" ng-disabled="!mainproduct.autoid && validation.auto"
                                class="btn btn-primary">
                             Отправить заявку
                        </button>
                        <div ng-show="validation.auto || validation.phone">
                            <span class="help-block" ng-show="autoForm1.auto.$error.required">Вначале добавьте автомобиль</span>
                            <span class="help-block" ng-show="(autoForm1.phone.$error.required)&&(!autoForm1.auto.$error.required)">Введите телефон</span>
                        </div>
                    </div>
                </form>
          </div>
        </div>
    </div>

    <div id="request2"  ng-if="allitems == 2">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h2 class="panel-title"><i class="big-car"></i>Автомобиль</h2>
          </div>
          <div class="panel-body">
                <form name="autoForm2" novalidate>
                    <div class="form-group" ng-class="{'has-error':(validation2.auto && autoForm2.auto.$error.required)}">
                        <label>Выберите автомобиль</label>
                        <select class="form-control" name="auto" ng-model="mainproduct.autoid" ng-options="auto.mark for auto in autos" required></select>
                        <div ng-show="validation2.auto">
                            <span class="help-block" ng-show="autoForm2.auto.$error.required">Вначале добавьте автомобиль</span>
                        </div>
                    </div>
                    <div class="form-group" ng-class="{'has-error': (autoForm2.phone.$invalid && validation2.phone)}" ng-hide="user.phone">
                        <label>Телефон</label>
                        <input name="phone" class="form-control" ng-minlength="11" ng-pattern="/^[0-9]{11}$/"
                               ng-model="user.phone" ng-blur="validation2.phone = true" required />
                        <div ng-show="validation2.phone">
                            <span class="help-block" ng-show="autoForm2.phone.$error.required || autoForm2.phone.$error.minlength">Введите телефон</span>
                            <span class="help-block" ng-show="autoForm2.phone.$error.pattern && !autoForm2.phone.$error.required && !autoForm2.phone.$error.minlength">Телефон длинной 11 символов и состоит из цифр</span>
                        </div>
                    </div>
                </form>
            <div class="text-right create-auto" ng-click="setScreen(1);">
                <button class="btn btn-sm btn-primary ">
                    <i class="fa fa-plus"></i> 
                </button>
                Добавить автомобиль
            </div>
          </div>
        </div>
        <div class="panel panel-info">
          <div class="panel-heading">
            <h2 class="panel-title"><i class="kuzov-work"></i>Заявка на ремонт</h2>
          </div>
          <div class="panel-body">
                <form name="workForm" novalidate>
                    <div class="form-group row">
                        <ul class="checkbox-grid">
                        <li>             
                            <label><input type="checkbox" ng-model="mainproduct.details.ownparts" />
                            Свои запчасти</label>
                        </li>
                        <li>
                            <label><input type="checkbox" ng-model="mainproduct.details.onguaranty" />
                            Автомобиль на гарантии</label>
                        </li>
                        </ul>
                    </div>
                    <div class="panel-body tabs-left panel-info">
                        <ul class="nav nav-tabs" role="tablist">
                            <li class="active" role="presentation">
                                <a ng-click="formdetails = 'question'" aria-controls="question" role="tab" data-toggle="tab" aria-expanded="true">Частые вопросы</a>
                            </li>
                            <li role="presentation">
                                <a ng-click="formdetails = 'diagnos'" aria-controls="diagnos" role="tab" data-toggle="tab">Диагностика</a>
                            </li>
                            <li role="presentation">
                                <a ng-click="formdetails = 'engine'" aria-controls="engine" role="tab" data-toggle="tab">Двигатель</a>
                            </li>
                            <li role="presentation">
                                <a ng-click="formdetails = 'head'" aria-controls="head" role="tab" data-toggle="tab">Подвеска и ходовая часть</a>
                            </li>
                            <li role="presentation">
                                <a ng-click="formdetails = 'wheel'" aria-controls="wheel" role="tab" data-toggle="tab">Рулевое управление и коробка передач</a>
                            </li>
                            <li role="presentation">
                                <a ng-click="formdetails = 'addi'" aria-controls="addi" role="tab" data-toggle="tab">Дополнительное оборудование</a>
                            </li>           
                        </ul>
                       <div class="tab-content">
                            <div role="tabpanel" class="tab-pane active" ng-if="formdetails == 'question'">
                                <div class="form-group row">
                                    <ul class="checkbox-grid">
                                        <li ng-repeat="item in texts.question">
                                            <label><input type="checkbox" ng-model="mainproduct.details.question[$index]" />
                                            {{item}}</label>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div role="tabpanel" class="tab-pane active" ng-if="formdetails == 'diagnos'">
                                <div class="form-group row">
                                    <ul class="checkbox-grid">
                                        <li ng-repeat="item in texts.diagnos">
                                            <label><input type="checkbox" ng-model="mainproduct.details.diagnos[$index]" />
                                            {{item}}</label>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div role="tabpanel" class="tab-pane active" ng-if="formdetails == 'engine'">
                                <div class="form-group row">
                                    <ul class="checkbox-grid">
                                        <li ng-repeat="item in texts.engine">
                                            <label><input type="checkbox" ng-model="mainproduct.details.engine[$index]" />
                                            {{item}}</label>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div role="tabpanel" class="tab-pane active" ng-if="formdetails == 'head'">
                                <div class="form-group row">
                                    <ul class="checkbox-grid">
                                        <li ng-repeat="item in texts.head">
                                            <label><input type="checkbox" ng-model="mainproduct.details.head[$index]" />
                                            {{item}}</label>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div role="tabpanel" class="tab-pane active" ng-if="formdetails == 'wheel'">
                                <div class="form-group row">
                                    <ul class="checkbox-grid">
                                        <li ng-repeat="item in texts.wheel">
                                            <label><input type="checkbox" ng-model="mainproduct.details.wheel[$index]" />
                                            {{item}}</label>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div role="tabpanel" class="tab-pane active" ng-if="formdetails == 'addi'">
                                <div class="form-group row">
                                    <ul class="checkbox-grid">
                                        <li ng-repeat="item in texts.addi">
                                            <label><input type="checkbox" ng-model="mainproduct.details.addi[$index]" />
                                            {{item}}</label>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                      </div>
                    </div>
                    <div class="form-group comment-area"><label>Комментарий:</label><textarea class="form-control" ng-model="mainproduct.details.comment" placeholder="Расскажите подробнее о том, что у вас случилось" rows="5"> </textarea></div>
                    <div class="text-center" ng-class="{'has-error':((validation2.auto && autoForm2.auto.$error.required)||(validation2.phone && autoForm2.phone.$error.required))}">
                        <button type="submit" ng-click="addRequest(mainproduct); validation2.auto = true; validation2.phone = true;" ng-disabled="!mainproduct.autoid && validation2.auto"
                                class="btn btn-primary">
                             Отправить заявку
                        </button>
                        <div ng-show="validation2.auto || validation2.phone">
                            <span class="help-block" ng-show="autoForm2.auto.$error.required">Вначале добавьте автомобиль</span>
                            <span class="help-block" ng-show="(autoForm2.phone.$error.required)&&(!autoForm2.auto.$error.required)">Введите телефон</span>
                        </div>
                    </div>
                </form>
          </div>
        </div>

    </div>
    <div id="request3"  ng-if="allitems == 3">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h2 class="panel-title"><i class="big-car"></i>Автомобиль</h2>
          </div>
          <div class="panel-body">
                <form name="autoForm3" novalidate>
                    <div class="form-group" ng-class="{'has-error':(validation3.auto && autoForm3.auto.$error.required)}">
                        <label>Выберите автомобиль</label>
                        <select class="form-control" name="auto" ng-model="mainproduct.autoid" ng-options="auto.mark for auto in autos" required></select>
                        <div ng-show="validation3.auto">
                            <span class="help-block" ng-show="autoForm3.auto.$error.required">Вначале добавьте автомобиль</span>
                        </div>
                    </div>
                    <div class="form-group" ng-class="{'has-error':autoForm3.phone.$invalid && validation3.phone}" ng-hide="user.phone">
                        <label>Телефон</label>
                        <input name="phone" class="form-control" ng-minlength="11" ng-pattern="/^[0-9]{11}$/"
                               ng-model="user.phone" ng-blur="validation3.phone = true" required />
                        <div ng-show="validation3.phone">
                            <span class="help-block" ng-show="autoForm3.phone.$error.required || autoForm3.phone.$error.minlength">Введите телефон</span>
                            <span class="help-block" ng-show="autoForm3.phone.$error.pattern && !autoForm3.phone.$error.required && !autoForm3.phone.$error.minlength">Телефон длинной 11 символов и состоит из цифр</span>
                        </div>
                    </div>
                </form>
            <div class="text-right create-auto" ng-click="setScreen(1);">
                <button class="btn btn-sm btn-primary ">
                    <i class="fa fa-plus"></i> 
                </button>
                Добавить автомобиль
            </div>
          </div>
        </div>
        <div class="panel panel-info">
          <div class="panel-heading">
            <h2 class="panel-title"><i class="kuzov-work"></i>Кузовные работы</h2>
          </div>
          <div class="panel-body">
                <form name="workForm" novalidate>
                    <div class="form-group row">
                        <ul class="checkbox-grid">
                        <li>             
                            <label><input type="checkbox" ng-model="mainproduct.details.ownparts" />
                            Свои запчасти</label>
                        </li>
                        <li>
                            <label><input type="checkbox" ng-model="mainproduct.details.onguaranty" />
                            Автомобиль на гарантии</label>
                        </li>
                        </ul>
                    </div>
                    <div class="panel-body tabs-left panel-info">
                        <ul class="nav nav-tabs" role="tablist">
                            <li ng-class="{'active': $index == 0}" ng-repeat="item in texts.destructions" role="presentation">
                                <a ng-click="$parent.formdetail = item.eng" aria-controls="{{item.eng}}" role="tab" data-toggle="tab" aria-expanded="true">{{item.title}}</a>
                            </li>           
                        </ul>
                       <div class="tab-content">
                            <div role="tabpanel" class="tab-pane active" ng-show="$parent.formdetail == item.eng" ng-repeat="item in texts.destructions" ng-init="parentIndex = $index" >
                                <div class="form-group row">
                                    <ul class="checkbox-grid">
                                        <li ng-repeat="ite in item.data">
                                            <label><input type="checkbox" ng-model="mainproduct.details.destructions[parentIndex][$index]" />
                                            {{ite}}</label>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                      </div>
                    </div>
                    <div class="form-group comment-area"><label>Комментарий:</label><textarea class="form-control" ng-model="mainproduct.details.comment" placeholder="Расскажите подробнее о том, что у вас случилось" rows="5"> </textarea></div>
                    <div class="form-group" ng-class="{'has-error': errorfile}">
                        <label>Фото</label>
                        <div class="row photo-cube">
                            <div class="col-md-3" ng-repeat="i in mainproduct.details.image">
                                <a target="_blank" href="{{baseurl}}{{i}}"><img ng-dostyle="max-width:100%; border: 1px solid;" ng-src="{{baseurl}}{{i}}" /></a>
                                <a class="pointer" ng-click="deleteImage(i);">удалить</a>
                            </div>
                        </div>
                        <input name="name" type='file' model='mainproduct.details.image' error='errorfile' ng-model='hello_file' file-feed multiple />
                        <div ng-show="errorfile">
                            <span class="help-block" ng-show="errorfile == 'Toomuch'">Не более 4 файлов</span>
                            <span class="help-block" ng-show="errorfile == 'Toomuch1mb'">Каждый файл не более 1 мб</span>
                            <span class="help-block" ng-show="errorfile == 'Type'">Загружать можно только картинки</span>
                        </div>
                    </div>
                    <div class="text-center" ng-class="{'has-error':((validation3.auto && autoForm3.auto.$error.required)||(validation3.phone && autoForm3.phone.$error.required))}">
                        <button type="submit" ng-click="addRequest(mainproduct); validation3.auto = true; validation3.phone = true;" ng-disabled="!mainproduct.autoid && validation3.auto"
                                class="btn btn-primary">
                             Отправить заявку
                        </button>
                        <div ng-show="validation3.auto || validation3.phone">
                            <span class="help-block" ng-show="autoForm3.auto.$error.required">Вначале добавьте автомобиль</span>
                            <span class="help-block" ng-show="(autoForm3.phone.$error.required)&&(!autoForm3.auto.$error.required)">Введите телефон</span>
                        </div>
                    </div>
                </form>
          </div>
        </div>
    </div>
    <div id="request4"  ng-if="allitems == 4">
        <div class="panel panel-default">
          <div class="panel-heading">
            <h2 class="panel-title"><i class="big-car"></i>Автомобиль</h2>
          </div>
          <div class="panel-body">
                <form name="autoForm4" novalidate>
                    <div class="form-group" ng-class="{'has-error':(validation4.auto && autoForm4.auto.$error.required)}">
                        <label>Выберите автомобиль</label>
                        <select class="form-control" name="auto" ng-model="mainproduct.autoid" ng-options="auto.mark for auto in autos" required></select>
                        <div ng-show="validation4.auto">
                            <span class="help-block" ng-show="autoForm4.auto.$error.required">Вначале добавьте автомобиль</span>
                        </div>
                    </div>
                    <div class="form-group" ng-class="{'has-error': (autoForm4.phone.$invalid && validation4.phone)}" ng-hide="user.phone">
                        <label>Телефон</label>
                        <input name="phone" class="form-control" ng-minlength="11" ng-pattern="/^[0-9]{11}$/"
                               ng-model="user.phone" ng-blur="validation4.phone = true" required />
                        <div ng-show="validation4.phone">
                            <span class="help-block" ng-show="autoForm4.phone.$error.required || autoForm4.phone.$error.minlength">Введите телефон</span>
                            <span class="help-block" ng-show="autoForm4.phone.$error.pattern && !autoForm4.phone.$error.required && !autoForm4.phone.$error.minlength">Телефон длинной 11 символов и состоит из цифр</span>
                        </div>
                    </div>
                </form>
            <div class="text-right create-auto" ng-click="setScreen(1);">
                <button class="btn btn-sm btn-primary ">
                    <i class="fa fa-plus"></i> 
                </button>
                Добавить автомобиль
            </div>
          </div>
        </div>
        <div class="panel panel-info">
          <div class="panel-heading">
            <h2 class="panel-title"><i class="kuzov-work"></i>Заявка на Тюнинг</h2>
          </div>
          <div class="panel-body">
                <form name="workForm" novalidate>
                    <div class="form-group row">
                        <ul class="checkbox-grid">
                        <li>             
                            <label><input type="checkbox" ng-model="mainproduct.details.ownparts" />
                            Свои запчасти</label>
                        </li>
                        <li>
                            <label><input type="checkbox" ng-model="mainproduct.details.onguaranty" />
                            Автомобиль на гарантии</label>
                        </li>
                        </ul>
                    </div>
                    <div class="form-group row">
                        <ul class="checkbox-grid">
                            <li ng-repeat="item in texts.tuning">
                                <label><input type="checkbox" ng-model="mainproduct.details.tuning[$index]" />
                                {{item}}</label>
                            </li>
                        </ul>
                    </div>
                    <div class="form-group comment-area"><label>Комментарий:</label><textarea class="form-control" ng-model="mainproduct.details.comment" placeholder="Расскажите подробнее о том, что у вас случилось" rows="5"> </textarea></div>
                    <div class="text-center" ng-class="{'has-error':((validation4.auto && autoForm4.auto.$error.required)||(validation4.phone && autoForm4.phone.$error.required))}">
                        <button type="submit" ng-click="addRequest(mainproduct); validation4.auto = true; validation4.phone = true;" ng-disabled="!mainproduct.autoid && validation4.auto"
                                class="btn btn-primary">
                             Отправить заявку
                        </button>
                        <div ng-show="validation4.auto || validation4.phone">
                            <span class="help-block" ng-show="autoForm4.auto.$error.required">Вначале добавьте автомобиль</span>
                            <span class="help-block" ng-show="(autoForm4.phone.$error.required)&&(!autoForm4.auto.$error.required)">Введите телефон</span>
                        </div>
                    </div>
                </form>
          </div>
        </div>
    </div>
</div>
</div>
